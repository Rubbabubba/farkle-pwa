<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#e9ddcf" />
  <title>Farkle PWA</title>

  <link rel="manifest" href="manifest.webmanifest?v=3" />
  <link rel="stylesheet" href="style.css?v=3" />

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
  <div id="app" class="app">

    <!-- ABOVE THE FOLD (100vh) -->
    <section class="aboveFold" id="aboveFold">

      <!-- HUD -->
      <header class="hud">
        <button class="hudIcon" id="btnBack" title="Back" aria-label="Back">‚Äπ</button>

        <div class="goalPill">
          <span class="goalIcon">üéØ</span>
          <span id="goalText">10000 POINTS</span>
        </div>

        <button class="hudIcon" id="btnOpenSettings" title="Settings" aria-label="Settings">‚öôÔ∏è</button>
      </header>

      <!-- TOP PANELS -->
      <section class="topPanels">
        <div class="playerCard">
          <div class="avatar" aria-hidden="true">üôÇ</div>
          <div class="playerName" id="p1Name">You</div>
          <div class="playerScore" id="youScore">0</div>
          <div class="playerSub" id="youBoardStatus">Need 500 to board</div>
        </div>

        <div class="playerCard">
          <div class="avatar" aria-hidden="true">ü§ñ</div>
          <div class="playerName" id="p2Name">CPU</div>
          <div class="playerScore" id="cpuScore">0</div>
          <div class="playerSub" id="cpuBoardStatus">Need 500 to board</div>
        </div>

        <div class="scoreCard">
          <div class="scoreCardHead">
            <div class="scoreCardTitle">Super Scores</div>
            <div class="turnPill" id="turnBadge">Your turn</div>
          </div>

          <div class="scoreTable">
            <div class="scoreRow"><span>Single 1</span><b>100</b></div>
            <div class="scoreRow"><span>Single 5</span><b>50</b></div>
            <div class="scoreRow"><span>Three of a kind</span><b>1000 / face√ó100</b></div>

            <div class="scoreDivider"></div>

            <div class="scoreRow"><span>Four of a kind</span><b>1000</b></div>
            <div class="scoreRow"><span>Five of a kind</span><b>2000</b></div>
            <div class="scoreRow"><span>Six of a kind</span><b>3000</b></div>
            <div class="scoreRow"><span>1‚Äì6 Straight</span><b>1500</b></div>
            <div class="scoreRow"><span>3 Pairs</span><b>1500</b></div>
            <div class="scoreRow"><span>4 of a kind + 1 pair</span><b>1500</b></div>
            <div class="scoreRow"><span>2 Triples</span><b>2500</b></div>
          </div>
        </div>
      </section>

      <!-- CENTER (PYRAMID) -->
      <section class="centerArea">
        <div class="statsRow">
          <div class="statBox">
            <div class="statLabel">Turn Points</div>
            <div class="statValue" id="turnPoints">0</div>
          </div>
          <div class="statBox">
            <div class="statLabel">Selected</div>
            <div class="statValue" id="selectedPoints">0</div>
          </div>
          <div class="statBox">
            <div class="statLabel">Dice Left</div>
            <div class="statValue" id="diceLeft">6</div>
          </div>
        </div>

        <div class="pyramidWrap">
          <div class="keptPyramid" id="keptPyramid" aria-label="Kept dice pyramid"></div>
        </div>
      </section>

      <!-- BOTTOM (TRAY + ROLL) -->
      <section class="bottomArea">
        <div class="tray">
          <div class="traySlots" id="traySlots" aria-label="Dice tray"></div>
        </div>

        <div class="actionHints">
          <button class="hintBtn" id="btnKeep" disabled>KEEP</button>
          <button class="hintBtn" id="btnBank" disabled>BANK</button>
          <button class="hintBtn" id="btnDone" disabled>DONE</button>
        </div>

        <button class="rollBtn" id="btnRoll">ROLL</button>
      </section>

    </section>

    <!-- BELOW THE FOLD (Turn Log) -->
    <section class="belowFold">
      <div class="logCard">
        <div class="logHead">
          <div class="logTitle">Turn Log</div>
          <button class="miniBtn" id="btnClearLog">Clear</button>
        </div>
        <div class="log" id="turnLog" aria-label="Log"></div>
      </div>
    </section>

    <!-- SETTINGS SHEET -->
    <div class="settingsSheet hidden" id="settingsSheet" role="dialog" aria-modal="true">
      <div class="sheet">
        <div class="sheetHead">
          <div class="sheetTitle">Settings</div>
          <button class="hudIcon" id="btnCloseSettings" aria-label="Close">‚úï</button>
        </div>

        <div class="sheetBody">
          <div class="fieldRow">
            <div>
              <div class="fieldLabel">Min to board</div>
              <div class="fieldSub">500</div>
            </div>
            <input class="inputSm" id="setMinEntry" inputmode="numeric" />
          </div>

          <div class="fieldRow">
            <div>
              <div class="fieldLabel">Win score</div>
              <div class="fieldSub">10,000</div>
            </div>
            <input class="inputSm" id="setWinScore" inputmode="numeric" />
          </div>

          <div class="fieldRow">
            <div>
              <div class="fieldLabel">Hot dice</div>
              <div class="fieldSub">If you score all dice, roll all 6 again</div>
            </div>
            <label class="switch">
              <input type="checkbox" id="setHotDice" />
              <span class="slider"></span>
            </label>
          </div>

          <div class="fieldRow">
            <div>
              <div class="fieldLabel">CPU style</div>
              <div class="fieldSub">Standard</div>
            </div>
            <select class="inputSm" id="setCpuStyle">
              <option value="conservative">Conservative</option>
              <option value="standard">Standard</option>
              <option value="aggressive">Aggressive</option>
            </select>
          </div>

          <div class="sheetDivider"></div>

          <button class="dangerBtn" id="btnResetEverything">Reset EVERYTHING</button>

          <div class="tinyNote">
            Cache-bust tip: bump <code>?v=4</code> in index links after big changes.
          </div>
        </div>
      </div>
    </div>

    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <script src="app.js?v=3"></script>
  </div>
</body>
</html>
